<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冯式中医智能辩证系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <header>
            <h1><i class="fas fa-hospital"></i> 冯式中医智能辩证系统</h1>
            <div class="mode-indicator">
                <i class="fas fa-user-md"></i> 当前模式：问诊
            </div>
        </header>

        <!-- 主要内容区 -->
        <main>
            <!-- 聊天区域 -->
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages"></div>
                <div class="input-area">
                    <textarea id="userInput" placeholder="请描述您的症状..." rows="3"></textarea>
                    <div class="button-group">
                        <button id="voiceInputBtn" title="语音输入">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button id="sendBtn">
                            <i class="fas fa-paper-plane"></i> 发送
                        </button>
                    </div>
                </div>
            </div>

            <!-- 诊断分析区域 -->
            <div class="diagnosis-container">
                <div class="diagnosis-content" id="diagnosisSummary"></div>
            </div>
        </main>

        <!-- 控制面板 -->
        <div class="control-panel">
            <button id="switchModeBtn">
                <i class="fas fa-notes-medical"></i> 进行辨证分析
            </button>
            <button id="clearBtn" title="清空历史">
                <i class="fas fa-trash-alt"></i>
            </button>
            <button id="exportBtn" title="导出记录">
                <i class="fas fa-file-export"></i>
            </button>
            <button id="printBtn" title="打印报告">
                <i class="fas fa-print"></i>
            </button>
            <button id="helpBtn" title="使用帮助">
                <i class="fas fa-question-circle"></i>
            </button>
            <button id="aboutBtn" title="关于系统">
                <i class="fas fa-info-circle"></i>
            </button>
        </div>

        <!-- 帮助模态框 -->
        <div id="helpModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>使用帮助</h2>
                <div class="help-content">
                    <h3>基本操作</h3>
                    <ul>
                        <li>在输入框中描述您的症状</li>
                        <li>点击发送或按回车键提交</li>
                        <li>系统会进行智能问诊</li>
                        <li>完成问诊后可进行辨证分析</li>
                        <li>根据辨证结果获取治疗建议</li>
                    </ul>
                    <h3>功能说明</h3>
                    <ul>
                        <li>语音输入：支持语音描述症状</li>
                        <li>导出记录：保存问诊记录</li>
                        <li>打印报告：生成诊断报告</li>
                        <li>清空历史：清除所有对话</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 关于模态框 -->
        <div id="aboutModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>关于系统</h2>
                <div class="about-content">
                    <p>中医智能问诊系统是一个基于人工智能的中医诊断辅助系统。系统集成了问诊、辨证和治疗等功能，旨在为用户提供便捷的中医诊疗服务。</p>
                    <p>系统特点：</p>
                    <ul>
                        <li>智能问诊：模拟中医师问诊过程</li>
                        <li>辨证分析：运用中医理论进行辨证</li>
                        <li>治疗建议：提供针对性的治疗方案</li>
                        <li>便捷操作：支持语音输入和报告导出</li>
                    </ul>
                    <p class="disclaimer">注意：本系统仅供参考，具体诊疗请遵医嘱。</p>
                </div>
            </div>
        </div>

        <!-- API密钥设置模态框 -->
        <div id="apiKeyModal" class="modal">
            <div class="modal-content">
                <h2>设置API密钥</h2>
                <div class="api-key-form">
                    <input type="password" id="apiKeyInput" placeholder="请输入您的API密钥">
                    <button id="setApiKeyBtn">确定</button>
                </div>
                <p class="note">请输入有效的API密钥以使用系统功能。</p>
            </div>
        </div>
    </div>

    <!-- 脚本引入 -->
    <script src="js/config.js"></script>
    <script src="js/apiService.js"></script>
    <script src="js/chatManager.js"></script>
    <script src="js/uiManager.js"></script>
</body>
</html> 
